{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconst initialState = {\n  matches: [],\n  liveMatches: [],\n  currentMatch: null,\n  loading: false,\n  error: null\n};\nexport const fetchMatches = createAsyncThunk('matches/fetchMatches', async (_, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get(`${API_URL}/matches`);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue('Nepodařilo se načíst zápasy');\n  }\n});\nexport const fetchLiveMatches = createAsyncThunk('matches/fetchLiveMatches', async (_, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get(`${API_URL}/matches/live`);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue('Nepodařilo se načíst živé zápasy');\n  }\n});\nexport const fetchMatchById = createAsyncThunk('matches/fetchMatchById', async (id, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get(`${API_URL}/matches/${id}`);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue('Nepodařilo se načíst detail zápasu');\n  }\n});\nconst matchesSlice = createSlice({\n  name: 'matches',\n  initialState,\n  reducers: {\n    clearCurrentMatch: state => {\n      state.currentMatch = null;\n    },\n    updateLiveMatch: (state, action) => {\n      const updatedMatch = action.payload;\n      state.liveMatches = state.liveMatches.map(match => match.id === updatedMatch.id ? updatedMatch : match);\n      if (state.currentMatch && state.currentMatch.id === updatedMatch.id) {\n        state.currentMatch = updatedMatch;\n      }\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchMatches.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchMatches.fulfilled, (state, action) => {\n      state.loading = false;\n      state.matches = action.payload;\n    }).addCase(fetchMatches.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(fetchLiveMatches.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchLiveMatches.fulfilled, (state, action) => {\n      state.loading = false;\n      state.liveMatches = action.payload;\n    }).addCase(fetchLiveMatches.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(fetchMatchById.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchMatchById.fulfilled, (state, action) => {\n      state.loading = false;\n      state.currentMatch = action.payload;\n    }).addCase(fetchMatchById.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport const {\n  clearCurrentMatch,\n  updateLiveMatch\n} = matchesSlice.actions;\nexport default matchesSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","API_URL","process","env","REACT_APP_API_URL","initialState","matches","liveMatches","currentMatch","loading","error","fetchMatches","_","rejectWithValue","response","get","data","fetchLiveMatches","fetchMatchById","id","matchesSlice","name","reducers","clearCurrentMatch","state","updateLiveMatch","action","updatedMatch","payload","map","match","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","reducer"],"sources":["D:/PV/TP/client/src/redux/slices/matchesSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nexport interface Match {\n  id: string;\n  homeTeam: {\n    id: string;\n    name: string;\n    logo: string;\n  };\n  awayTeam: {\n    id: string;\n    name: string;\n    logo: string;\n  };\n  score: {\n    home: number;\n    away: number;\n  };\n  status: 'scheduled' | 'live' | 'finished';\n  date: string;\n  stadium: string;\n  events: Array<{\n    id: string;\n    type: 'goal' | 'yellow_card' | 'red_card' | 'substitution';\n    minute: number;\n    team: 'home' | 'away';\n    player: {\n      id: string;\n      name: string;\n    };\n    assistPlayer?: {\n      id: string;\n      name: string;\n    };\n  }>;\n}\n\ninterface MatchesState {\n  matches: Match[];\n  liveMatches: Match[];\n  currentMatch: Match | null;\n  loading: boolean;\n  error: string | null;\n}\n\nconst initialState: MatchesState = {\n  matches: [],\n  liveMatches: [],\n  currentMatch: null,\n  loading: false,\n  error: null\n};\n\nexport const fetchMatches = createAsyncThunk(\n  'matches/fetchMatches',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await axios.get(`${API_URL}/matches`);\n      return response.data;\n    } catch (error) {\n      return rejectWithValue('Nepodařilo se načíst zápasy');\n    }\n  }\n);\n\nexport const fetchLiveMatches = createAsyncThunk(\n  'matches/fetchLiveMatches',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await axios.get(`${API_URL}/matches/live`);\n      return response.data;\n    } catch (error) {\n      return rejectWithValue('Nepodařilo se načíst živé zápasy');\n    }\n  }\n);\n\nexport const fetchMatchById = createAsyncThunk(\n  'matches/fetchMatchById',\n  async (id: string, { rejectWithValue }) => {\n    try {\n      const response = await axios.get(`${API_URL}/matches/${id}`);\n      return response.data;\n    } catch (error) {\n      return rejectWithValue('Nepodařilo se načíst detail zápasu');\n    }\n  }\n);\n\nconst matchesSlice = createSlice({\n  name: 'matches',\n  initialState,\n  reducers: {\n    clearCurrentMatch: (state) => {\n      state.currentMatch = null;\n    },\n    updateLiveMatch: (state, action) => {\n      const updatedMatch = action.payload;\n      state.liveMatches = state.liveMatches.map(match => \n        match.id === updatedMatch.id ? updatedMatch : match\n      );\n      if (state.currentMatch && state.currentMatch.id === updatedMatch.id) {\n        state.currentMatch = updatedMatch;\n      }\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchMatches.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchMatches.fulfilled, (state, action) => {\n        state.loading = false;\n        state.matches = action.payload;\n      })\n      .addCase(fetchMatches.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      })\n      .addCase(fetchLiveMatches.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchLiveMatches.fulfilled, (state, action) => {\n        state.loading = false;\n        state.liveMatches = action.payload;\n      })\n      .addCase(fetchLiveMatches.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      })\n      .addCase(fetchMatchById.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchMatchById.fulfilled, (state, action) => {\n        state.loading = false;\n        state.currentMatch = action.payload;\n      })\n      .addCase(fetchMatchById.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n  }\n});\n\nexport const { clearCurrentMatch, updateLiveMatch } = matchesSlice.actions;\nexport default matchesSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}