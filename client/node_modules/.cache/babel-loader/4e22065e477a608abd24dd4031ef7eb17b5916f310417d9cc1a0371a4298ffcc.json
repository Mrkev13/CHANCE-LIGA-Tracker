{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\n// Definice typů\n\n// Počáteční stav\nconst initialState = {\n  players: [],\n  currentPlayer: null,\n  loading: false,\n  error: null\n};\n\n// Asynchronní akce pro načtení všech hráčů\nexport const fetchPlayers = createAsyncThunk('players/fetchPlayers', async (_, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get(`${API_URL}/players`);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue('Nepodařilo se načíst hráče.');\n  }\n});\n\n// Asynchronní akce pro načtení konkrétního hráče\nexport const fetchPlayerById = createAsyncThunk('players/fetchPlayerById', async (playerId, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get(`${API_URL}/players/${playerId}`);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue('Nepodařilo se načíst informace o hráči.');\n  }\n});\n\n// Slice\nconst playersSlice = createSlice({\n  name: 'players',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder\n    // Načtení všech hráčů\n    .addCase(fetchPlayers.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchPlayers.fulfilled, (state, action) => {\n      state.loading = false;\n      state.players = action.payload;\n    }).addCase(fetchPlayers.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    })\n    // Načtení konkrétního hráče\n    .addCase(fetchPlayerById.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchPlayerById.fulfilled, (state, action) => {\n      state.loading = false;\n      state.currentPlayer = action.payload;\n    }).addCase(fetchPlayerById.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default playersSlice.reducer;\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","players","currentPlayer","loading","error","fetchPlayers","_","rejectWithValue","response","get","API_URL","data","fetchPlayerById","playerId","playersSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","reducer","process","env","REACT_APP_API_URL"],"sources":["D:/PV/TP/client/src/redux/slices/playersSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\n// Definice typů\ninterface Player {\n  id: string;\n  name: string;\n  teamId: string;\n  teamName: string;\n  position: string;\n  number: number;\n  age: number;\n  nationality: string;\n  photo: string;\n  stats: {\n    goals: number;\n    assists: number;\n    yellowCards: number;\n    redCards: number;\n    minutesPlayed: number;\n  };\n}\n\ninterface PlayersState {\n  players: Player[];\n  currentPlayer: Player | null;\n  loading: boolean;\n  error: string | null;\n}\n\n// Počáteční stav\nconst initialState: PlayersState = {\n  players: [],\n  currentPlayer: null,\n  loading: false,\n  error: null\n};\n\n// Asynchronní akce pro načtení všech hráčů\nexport const fetchPlayers = createAsyncThunk(\n  'players/fetchPlayers',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await axios.get(`${API_URL}/players`);\n      return response.data;\n    } catch (error) {\n      return rejectWithValue('Nepodařilo se načíst hráče.');\n    }\n  }\n);\n\n// Asynchronní akce pro načtení konkrétního hráče\nexport const fetchPlayerById = createAsyncThunk(\n  'players/fetchPlayerById',\n  async (playerId: string, { rejectWithValue }) => {\n    try {\n      const response = await axios.get(`${API_URL}/players/${playerId}`);\n      return response.data;\n    } catch (error) {\n      return rejectWithValue('Nepodařilo se načíst informace o hráči.');\n    }\n  }\n);\n\n// Slice\nconst playersSlice = createSlice({\n  name: 'players',\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      // Načtení všech hráčů\n      .addCase(fetchPlayers.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchPlayers.fulfilled, (state, action) => {\n        state.loading = false;\n        state.players = action.payload;\n      })\n      .addCase(fetchPlayers.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      })\n      // Načtení konkrétního hráče\n      .addCase(fetchPlayerById.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchPlayerById.fulfilled, (state, action) => {\n        state.loading = false;\n        state.currentPlayer = action.payload;\n      })\n      .addCase(fetchPlayerById.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n  }\n});\n\nexport default playersSlice.reducer;\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;;AAEzB;;AA2BA;AACA,MAAMC,YAA0B,GAAG;EACjCC,OAAO,EAAE,EAAE;EACXC,aAAa,EAAE,IAAI;EACnBC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACT,CAAC;;AAED;AACA,OAAO,MAAMC,YAAY,GAAGP,gBAAgB,CAC1C,sBAAsB,EACtB,OAAOQ,CAAC,EAAE;EAAEC;AAAgB,CAAC,KAAK;EAChC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,GAAGC,OAAO,UAAU,CAAC;IACtD,OAAOF,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOP,KAAK,EAAE;IACd,OAAOG,eAAe,CAAC,6BAA6B,CAAC;EACvD;AACF,CACF,CAAC;;AAED;AACA,OAAO,MAAMK,eAAe,GAAGd,gBAAgB,CAC7C,yBAAyB,EACzB,OAAOe,QAAgB,EAAE;EAAEN;AAAgB,CAAC,KAAK;EAC/C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,GAAGC,OAAO,YAAYG,QAAQ,EAAE,CAAC;IAClE,OAAOL,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOP,KAAK,EAAE;IACd,OAAOG,eAAe,CAAC,yCAAyC,CAAC;EACnE;AACF,CACF,CAAC;;AAED;AACA,MAAMO,YAAY,GAAGjB,WAAW,CAAC;EAC/BkB,IAAI,EAAE,SAAS;EACff,YAAY;EACZgB,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IAC1BA;IACE;IAAA,CACCC,OAAO,CAACd,YAAY,CAACe,OAAO,EAAGC,KAAK,IAAK;MACxCA,KAAK,CAAClB,OAAO,GAAG,IAAI;MACpBkB,KAAK,CAACjB,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC,CACDe,OAAO,CAACd,YAAY,CAACiB,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MAClDF,KAAK,CAAClB,OAAO,GAAG,KAAK;MACrBkB,KAAK,CAACpB,OAAO,GAAGsB,MAAM,CAACC,OAAO;IAChC,CAAC,CAAC,CACDL,OAAO,CAACd,YAAY,CAACoB,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MACjDF,KAAK,CAAClB,OAAO,GAAG,KAAK;MACrBkB,KAAK,CAACjB,KAAK,GAAGmB,MAAM,CAACC,OAAiB;IACxC,CAAC;IACD;IAAA,CACCL,OAAO,CAACP,eAAe,CAACQ,OAAO,EAAGC,KAAK,IAAK;MAC3CA,KAAK,CAAClB,OAAO,GAAG,IAAI;MACpBkB,KAAK,CAACjB,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC,CACDe,OAAO,CAACP,eAAe,CAACU,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MACrDF,KAAK,CAAClB,OAAO,GAAG,KAAK;MACrBkB,KAAK,CAACnB,aAAa,GAAGqB,MAAM,CAACC,OAAO;IACtC,CAAC,CAAC,CACDL,OAAO,CAACP,eAAe,CAACa,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MACpDF,KAAK,CAAClB,OAAO,GAAG,KAAK;MACrBkB,KAAK,CAACjB,KAAK,GAAGmB,MAAM,CAACC,OAAiB;IACxC,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,eAAeV,YAAY,CAACY,OAAO;AAEnC,MAAMhB,OAAO,GAAGiB,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}